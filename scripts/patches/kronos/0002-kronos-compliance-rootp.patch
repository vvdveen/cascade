diff --git a/riscv-compliance/kronos_compliance.cpp b/riscv-compliance/kronos_compliance.cpp
index f002e5b..c70f044 100644
--- a/riscv-compliance/kronos_compliance.cpp
+++ b/riscv-compliance/kronos_compliance.cpp
@@ -10,9 +10,18 @@
 #include <verilated_vcd_c.h>
 
 #include "kronos_compliance_top.h"
+#include "kronos_compliance_top___024root.h"
 
 using namespace std;
 
+double sc_time_stamp() {
+  return 0.0;
+}
+
+static constexpr uint32_t BOOT_ADDR = 0x80000000;
+static constexpr uint32_t MEM_BYTES = 64 * 1024;
+static constexpr uint32_t MEM_MASK = MEM_BYTES - 1;
+
 class Sim {
   private:
     kronos_compliance_top *top;
@@ -32,9 +41,10 @@ class Sim {
       int i;
       ifstream FILE(memfile.c_str(), ios::binary);
       
+      uint32_t base_word = (BOOT_ADDR & MEM_MASK) >> 2;
       i = 0;
       while(FILE.read((char*)&word, 4)) {
-        top->kronos_compliance_top__DOT__u_mem__DOT__MEM[i] = word;
+        top->rootp->kronos_compliance_top__DOT__u_mem__DOT__MEM[base_word + i] = word;
         i++;
       }
       FILE.close();
@@ -124,7 +134,7 @@ class Sim {
       ofstream FILE(resfile.c_str());
 
       for (int i=begin_addr; i<end_addr; i++) {
-        data = top->kronos_compliance_top__DOT__u_mem__DOT__MEM[i];
+        data = top->rootp->kronos_compliance_top__DOT__u_mem__DOT__MEM[i];
         sprintf(txt, "%08x\n", data);
         FILE << txt;
       }
diff --git a/riscv-compliance/kronos_compliance_top.sv b/riscv-compliance/kronos_compliance_top.sv
index dffdfe8..3c88f77 100644
--- a/riscv-compliance/kronos_compliance_top.sv
+++ b/riscv-compliance/kronos_compliance_top.sv
@@ -24,7 +24,9 @@ logic [31:0] mem_rd_data;
 logic mem_en, mem_wr_en;
 logic [3:0] mem_mask;
 
-kronos_core u_dut (
+kronos_core #(
+  .BOOT_ADDR(32'h80000000)
+) u_dut (
   .clk               (clk         ),
   .rstz              (rstz        ),
   .instr_addr        (instr_addr  ),
@@ -65,7 +67,7 @@ always_ff @(posedge clk) begin
   data_ack <= data_req;
 end
 
-generic_spram #(.KB(8)) u_mem (
+generic_spram #(.KB(64)) u_mem (
   .clk  (clk        ),
   .addr (mem_addr   ),
   .wdata(mem_wr_data),
